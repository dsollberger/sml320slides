{
  "hash": "1bbfde2007070cdcd459ea3de91b39c2",
  "result": {
    "markdown": "---\ntitle: \"3: Beta-Binomial Models\"\nauthor: \"Derek Sollberger\"\ndate: \"2024-02-06\"\n# format: \n#   revealjs:\n#     scrollable: true\nformat: \n  html:\n    toc: true\n---\n\n\n\\newcommand{\\ds}{\\displaystyle}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"bayesrules\")\nlibrary(\"gt\")\nlibrary(\"janitor\")\nlibrary(\"patchwork\")\nlibrary(\"skimr\")\nlibrary(\"tidyverse\")\n\ntips_df <- readr::read_csv(\"tips.csv\")\n```\n:::\n\n\n\n## Tips Data Set\n\n:::: {.panel-tabset}\n\n## Description\n\n* source: [Kaggle](https://www.kaggle.com/datasets/jsphyg/tipping)\n\n    - \"The data was reported in a collection of case studies for business statistics.  Bryant, P. G. and Smith, M (1995) *Practical Data Analysis: Case Studies in Business Statistic*s. Homewood, IL: Richard D. Irwin Publishing\n\n* context: \"One waiter recorded information about each tip he received over a period of a few months working in one restaurant. In all he recorded 244 tips. \"\n\n## Glance\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(tips_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 7\n  total_bill   tip sex    smoker day   time    size\n       <dbl> <dbl> <chr>  <chr>  <chr> <chr>  <dbl>\n1       17.0  1.01 Female No     Sun   Dinner     2\n2       10.3  1.66 Male   No     Sun   Dinner     3\n3       21.0  3.5  Male   No     Sun   Dinner     3\n4       23.7  3.31 Male   No     Sun   Dinner     2\n5       24.6  3.61 Female No     Sun   Dinner     4\n6       25.3  4.71 Male   No     Sun   Dinner     4\n```\n:::\n:::\n\n\n\n## Structure\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(tips_df, give.attr = FALSE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nspc_tbl_ [244 × 7] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ total_bill: num [1:244] 17 10.3 21 23.7 24.6 ...\n $ tip       : num [1:244] 1.01 1.66 3.5 3.31 3.61 4.71 2 3.12 1.96 3.23 ...\n $ sex       : chr [1:244] \"Female\" \"Male\" \"Male\" \"Male\" ...\n $ smoker    : chr [1:244] \"No\" \"No\" \"No\" \"No\" ...\n $ day       : chr [1:244] \"Sun\" \"Sun\" \"Sun\" \"Sun\" ...\n $ time      : chr [1:244] \"Dinner\" \"Dinner\" \"Dinner\" \"Dinner\" ...\n $ size      : num [1:244] 2 3 3 2 4 4 2 4 2 2 ...\n```\n:::\n:::\n\n\n\n## Skim\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskimr::skim(tips_df)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |        |\n|:------------------------|:-------|\n|Name                     |tips_df |\n|Number of rows           |244     |\n|Number of columns        |7       |\n|_______________________  |        |\n|Column type frequency:   |        |\n|character                |4       |\n|numeric                  |3       |\n|________________________ |        |\n|Group variables          |None    |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|sex           |         0|             1|   4|   6|     0|        2|          0|\n|smoker        |         0|             1|   2|   3|     0|        2|          0|\n|day           |         0|             1|   3|   4|     0|        4|          0|\n|time          |         0|             1|   5|   6|     0|        2|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|  mean|   sd|   p0|   p25|  p50|   p75|  p100|hist  |\n|:-------------|---------:|-------------:|-----:|----:|----:|-----:|----:|-----:|-----:|:-----|\n|total_bill    |         0|             1| 19.79| 8.90| 3.07| 13.35| 17.8| 24.13| 50.81|▃▇▃▁▁ |\n|tip           |         0|             1|  3.00| 1.38| 1.00|  2.00|  2.9|  3.56| 10.00|▇▆▂▁▁ |\n|size          |         0|             1|  2.57| 0.95| 1.00|  2.00|  2.0|  3.00|  6.00|▇▂▂▁▁ |\n:::\n:::\n\n\n::::\n\n# Scenario 1: Discrete Prior\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\nToday we are going to explore how prevalent smoking used to be in restaurants?  What percentage of customers smoked in restaurants? We can start with the following guesses\n\n* 25%\n* 50%\n* 75%\n:::\n\n::: {.column width=\"50%\"}\n![source: Shutterstock](smoking_in_restaurants.png)\n:::\n\n::::\n\n## Prior Model\n\n\n::: {.cell}\n\n:::\n\n\n|   $\\pi$  | 0.25 | 0.50 | 0.75 | total |\n|:--------:|:----:|:----:|:----:|-------|\n| $f(\\pi)$ |  1/3 |  1/3 |  1/3 | 1     |\n\n* uniform prior\n* e.g. guessing the probability that the percentage of customers that smoked was 75% was $\\frac{1}{3}$\n\n::: {.callout-note collapse=\"true\"}\n## Discrete Probability Model\n\nLet $Y$ be a discrete random variable. The probability model of $Y$ is specified by a **probability mass function (pmf)** $f(y)$. This pmf defines the probability of any given outcome $y$,\n\n$$f(y) = P(Y = y)$$\n\n* $0 \\leq f(y) \\leq 1$\n* $\\sum f(y) = 1$\n:::\n\n## Observed Data\n\n:::: {.panel-tabset}\n## Observed Sample\n\nLooking at the last 9 observations in the data set, 4 of the customers were smokers.\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"kevoavzrjq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#kevoavzrjq table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#kevoavzrjq thead, #kevoavzrjq tbody, #kevoavzrjq tfoot, #kevoavzrjq tr, #kevoavzrjq td, #kevoavzrjq th {\n  border-style: none;\n}\n\n#kevoavzrjq p {\n  margin: 0;\n  padding: 0;\n}\n\n#kevoavzrjq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#kevoavzrjq .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#kevoavzrjq .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#kevoavzrjq .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#kevoavzrjq .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kevoavzrjq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kevoavzrjq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kevoavzrjq .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#kevoavzrjq .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#kevoavzrjq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#kevoavzrjq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#kevoavzrjq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#kevoavzrjq .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#kevoavzrjq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#kevoavzrjq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#kevoavzrjq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#kevoavzrjq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#kevoavzrjq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#kevoavzrjq .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kevoavzrjq .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#kevoavzrjq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#kevoavzrjq .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#kevoavzrjq .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kevoavzrjq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#kevoavzrjq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#kevoavzrjq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kevoavzrjq .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kevoavzrjq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#kevoavzrjq .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kevoavzrjq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#kevoavzrjq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kevoavzrjq .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kevoavzrjq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kevoavzrjq .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kevoavzrjq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kevoavzrjq .gt_left {\n  text-align: left;\n}\n\n#kevoavzrjq .gt_center {\n  text-align: center;\n}\n\n#kevoavzrjq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#kevoavzrjq .gt_font_normal {\n  font-weight: normal;\n}\n\n#kevoavzrjq .gt_font_bold {\n  font-weight: bold;\n}\n\n#kevoavzrjq .gt_font_italic {\n  font-style: italic;\n}\n\n#kevoavzrjq .gt_super {\n  font-size: 65%;\n}\n\n#kevoavzrjq .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#kevoavzrjq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#kevoavzrjq .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#kevoavzrjq .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#kevoavzrjq .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#kevoavzrjq .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#kevoavzrjq .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"total_bill\">total_bill</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"tip\">tip</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"sex\">sex</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"smoker\">smoker</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"day\">day</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"time\">time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"size\">size</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"total_bill\" class=\"gt_row gt_right\">10.07</td>\n<td headers=\"tip\" class=\"gt_row gt_right\">1.25</td>\n<td headers=\"sex\" class=\"gt_row gt_left\">Male</td>\n<td headers=\"smoker\" class=\"gt_row gt_left\" style=\"background-color: #CCCCCC;\">No</td>\n<td headers=\"day\" class=\"gt_row gt_left\">Sat</td>\n<td headers=\"time\" class=\"gt_row gt_left\">Dinner</td>\n<td headers=\"size\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"total_bill\" class=\"gt_row gt_right\">12.60</td>\n<td headers=\"tip\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"sex\" class=\"gt_row gt_left\">Male</td>\n<td headers=\"smoker\" class=\"gt_row gt_left\" style=\"background-color: #CCCCCC; color: #FF0000;\">Yes</td>\n<td headers=\"day\" class=\"gt_row gt_left\">Sat</td>\n<td headers=\"time\" class=\"gt_row gt_left\">Dinner</td>\n<td headers=\"size\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"total_bill\" class=\"gt_row gt_right\">32.83</td>\n<td headers=\"tip\" class=\"gt_row gt_right\">1.17</td>\n<td headers=\"sex\" class=\"gt_row gt_left\">Male</td>\n<td headers=\"smoker\" class=\"gt_row gt_left\" style=\"background-color: #CCCCCC; color: #FF0000;\">Yes</td>\n<td headers=\"day\" class=\"gt_row gt_left\">Sat</td>\n<td headers=\"time\" class=\"gt_row gt_left\">Dinner</td>\n<td headers=\"size\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"total_bill\" class=\"gt_row gt_right\">35.83</td>\n<td headers=\"tip\" class=\"gt_row gt_right\">4.67</td>\n<td headers=\"sex\" class=\"gt_row gt_left\">Female</td>\n<td headers=\"smoker\" class=\"gt_row gt_left\" style=\"background-color: #CCCCCC;\">No</td>\n<td headers=\"day\" class=\"gt_row gt_left\">Sat</td>\n<td headers=\"time\" class=\"gt_row gt_left\">Dinner</td>\n<td headers=\"size\" class=\"gt_row gt_right\">3</td></tr>\n    <tr><td headers=\"total_bill\" class=\"gt_row gt_right\">29.03</td>\n<td headers=\"tip\" class=\"gt_row gt_right\">5.92</td>\n<td headers=\"sex\" class=\"gt_row gt_left\">Male</td>\n<td headers=\"smoker\" class=\"gt_row gt_left\" style=\"background-color: #CCCCCC;\">No</td>\n<td headers=\"day\" class=\"gt_row gt_left\">Sat</td>\n<td headers=\"time\" class=\"gt_row gt_left\">Dinner</td>\n<td headers=\"size\" class=\"gt_row gt_right\">3</td></tr>\n    <tr><td headers=\"total_bill\" class=\"gt_row gt_right\">27.18</td>\n<td headers=\"tip\" class=\"gt_row gt_right\">2.00</td>\n<td headers=\"sex\" class=\"gt_row gt_left\">Female</td>\n<td headers=\"smoker\" class=\"gt_row gt_left\" style=\"background-color: #CCCCCC; color: #FF0000;\">Yes</td>\n<td headers=\"day\" class=\"gt_row gt_left\">Sat</td>\n<td headers=\"time\" class=\"gt_row gt_left\">Dinner</td>\n<td headers=\"size\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"total_bill\" class=\"gt_row gt_right\">22.67</td>\n<td headers=\"tip\" class=\"gt_row gt_right\">2.00</td>\n<td headers=\"sex\" class=\"gt_row gt_left\">Male</td>\n<td headers=\"smoker\" class=\"gt_row gt_left\" style=\"background-color: #CCCCCC; color: #FF0000;\">Yes</td>\n<td headers=\"day\" class=\"gt_row gt_left\">Sat</td>\n<td headers=\"time\" class=\"gt_row gt_left\">Dinner</td>\n<td headers=\"size\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"total_bill\" class=\"gt_row gt_right\">17.82</td>\n<td headers=\"tip\" class=\"gt_row gt_right\">1.75</td>\n<td headers=\"sex\" class=\"gt_row gt_left\">Male</td>\n<td headers=\"smoker\" class=\"gt_row gt_left\" style=\"background-color: #CCCCCC;\">No</td>\n<td headers=\"day\" class=\"gt_row gt_left\">Sat</td>\n<td headers=\"time\" class=\"gt_row gt_left\">Dinner</td>\n<td headers=\"size\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"total_bill\" class=\"gt_row gt_right\">18.78</td>\n<td headers=\"tip\" class=\"gt_row gt_right\">3.00</td>\n<td headers=\"sex\" class=\"gt_row gt_left\">Female</td>\n<td headers=\"smoker\" class=\"gt_row gt_left\" style=\"background-color: #CCCCCC;\">No</td>\n<td headers=\"day\" class=\"gt_row gt_left\">Thur</td>\n<td headers=\"time\" class=\"gt_row gt_left\">Dinner</td>\n<td headers=\"size\" class=\"gt_row gt_right\">2</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n## Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntail(tips_df, 9) |>\n  gt() |>\n  tab_style(locations = cells_body(columns = smoker),\n            style = list(cell_fill(color = \"gray80\"))) |>\n  tab_style(locations = cells_body(columns = smoker,\n                                   rows = smoker == \"Yes\"),\n            style = list(cell_text(color = \"red\")))\n```\n:::\n\n\n::::\n\n## Binomial Distribution\n\n::: {.callout-note collapse=\"true\"}\n## Binomial Distribution\n\nLet random variable $Y$ be the number of successes in a fixed number of trials $n$. Assume that the trials are independent and that the probability of success in each trial is $\\pi$. Then the conditional dependence of $Y$ on $\\pi$ can be modeled by the Binomial model with parameters $n$ and $\\pi$. In mathematical notation:\n\n$$Y|\\pi \\sim \\text{Bin}(n,\\pi)$$\nwhere $\\sim$ can be read as \"modeled by\".  Correspondingly, the binomial model is specified by the conditional pmf\n\n$$f(y|\\pi) = \\binom{n}{y}\\pi^{y}(1-\\pi)^{n-y} \\text{ for } y \\in \\{0, 1, 2, ..., n\\}$$\nwhere $\\binom{n}{y} = \\ds\\frac{n!}{y!(n-y)!}$\n:::\n\nIn this example of $Y$ smokers in $n=9$ customers with probability $\\pi$ of smokers,\n\n$$Y|\\pi \\sim \\text{Bin}(9,\\pi)$$\n$$f(y|\\pi) = \\binom{9}{y}\\pi^{y}(1-\\pi)^{9-y} \\text{ for } y \\in \\{0, 1, 2, ..., 9\\}$$\n\n## Conditional PMFs\n\n:::: {.panel-tabset}\n\n## Based on Observed Data\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](03_beta_binomial_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n## Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhighlight_col <- 0:9 == 4\ndf_25 <- data.frame(k = 0:9, f_y_pi = dbinom(0:9, 9, 0.25), highlight_col)\ndf_50 <- data.frame(k = 0:9, f_y_pi = dbinom(0:9, 9, 0.50), highlight_col)\ndf_75 <- data.frame(k = 0:9, f_y_pi = dbinom(0:9, 9, 0.75), highlight_col)\n\nplot_25 <- df_25 |>\n  ggplot(aes(x = k, y = f_y_pi, fill = highlight_col)) +\n  geom_col(show.legend = FALSE) +\n  labs(title = \"Bin(9,0.25)\") +\n  scale_x_continuous(name = \"customers\", \n                   breaks = 0:9, \n                   labels = as.character(0:9)) +\n  theme_minimal()\n\nplot_50 <- df_50 |>\n  ggplot(aes(x = k, y = f_y_pi, fill = highlight_col)) +\n  geom_col(show.legend = FALSE) +\n  labs(title = \"Bin(9,0.50)\") +\n  scale_x_continuous(name = \"customers\", \n                   breaks = 0:9, \n                   labels = as.character(0:9)) +\n  theme_minimal()\n\nplot_75 <- df_75 |>\n  ggplot(aes(x = k, y = f_y_pi, fill = highlight_col)) +\n  geom_col(show.legend = FALSE) +\n  labs(title = \"Bin(9,0.75)\") +\n  scale_x_continuous(name = \"customers\", \n                   breaks = 0:9, \n                   labels = as.character(0:9)) +\n  theme_minimal()\n\n# patchwork\nplot_25 + plot_50 + plot_75\n```\n:::\n\n\n::::\n\n## Likelihoods\n\nWith the observed data $Y = 4$ out of $n = 9$ customers, for $\\pi = \\{0.25, 0.50, 0.75\\}$,\n$$L(\\pi|y = 4) = f(y = 4|\\pi) = \\binom{9}{4}\\pi^{4}(1-\\pi)^{5}$$\n\n$$L(\\pi = 0.25|y = 4) = \\binom{9}{4}(0.25)^{4}(1-0.25)^{5} \\approx 0.1168$$\n$$L(\\pi = 0.50|y = 4) = \\binom{9}{4}(0.50)^{4}(1-0.50)^{5} \\approx 0.2461$$\n$$L(\\pi = 0.75|y = 4) = \\binom{9}{4}(0.75)^{4}(1-0.75)^{5} \\approx 0.0389$$\n\n|     $\\pi$     |  0.25  |  0.50  |  0.75  | total  |\n|:-------------:|:------:|:------:|:------:|--------|\n|    $f(\\pi)$   |   1/3  |   1/3  |   1/3  | 1      |\n| $L(\\pi|y=4)$  | 0.1168 | 0.2461 | 0.0389 | 0.4018 |\n\n\n## Bayesian Concepts\n\n$$\\text{posterior} = \\frac{\\text{prior} * \\text{likelihood}}{\\text{normalizing constant}}$$\n\nFor observations $\\vec{y}$ and probabilities $\\vec{\\pi}$,\n\n$$f(\\pi|y) = \\frac{f(\\pi)L(\\pi|y)}{f(y)} \\propto f(\\pi)L(\\pi|y)$$\n\n## Normalizing Constant\n\n$$f(y = 4) = \\ds\\sum_{\\pi\\in\\{0.25, 0.50, 0.75\\}} L(\\pi|y=4) \\cdot f(\\pi)$$\n\n$$f(y = 4) = \\ds\\frac{0.1168}{3} + \\ds\\frac{0.2461}{3} + \\ds\\frac{0.0389}{3} \\approx 0.1339$$\n\n## Posterior Distribution\n\n$$f(\\pi|y=4) = \\ds\\frac{f(\\pi)L(\\pi|y=4)}{f(y=4)} \\text{ for } \\pi \\in \\{0.25, 0.50, 0.75 \\}$$\n$$f(\\pi=0.25|y=4) = \\ds\\frac{(1/3)(0.1168)}{0.1339} \\approx 0.2907$$\n$$f(\\pi=0.50|y=4) = \\ds\\frac{(1/3)(0.2461)}{0.1339} \\approx 0.6126$$\n$$f(\\pi=0.75|y=4) = \\ds\\frac{(1/3)(0.0389)}{0.1339} \\approx 0.0968$$\n\n|     $\\pi$     |  0.25  |  0.50  |  0.75  | total  |\n|:-------------:|:------:|:------:|:------:|--------|\n|    $f(\\pi)$   |   1/3  |   1/3  |   1/3  | 1      |\n| $L(\\pi|y=4)$  | 0.1168 | 0.2461 | 0.0389 | 0.4018 |\n| $f(\\pi|y=4)$  | 0.2907 | 0.6126 | 0.0968 | 1      |\n\n## Computer Simulation\n\n:::: {.panel-tabset}\n\n## Simulation Samples\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# define possible smoker proportions\nsmokers <- data.frame(pi = c(0.25, 0.50, 0.75))\n\n# define prior model\nprior <- c(1/3, 1/3, 1/3)\n\n# simulate 10000 values of pi from the prior\nset.seed(320)\nsmoker_sim <- sample_n(smokers, size = 10000, weight = prior, replace = TRUE)\n\n# simulate 10000 samples of customers\nsmoker_sim <- smoker_sim |>\n  mutate(y = rbinom(10000, size = 9, prob = pi))\n```\n:::\n\n\nSo far, the simulation yields a data frame that looks like\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(smoker_sim)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    pi y\n1 0.50 5\n2 0.25 2\n3 0.50 6\n4 0.25 3\n5 0.50 4\n6 0.50 4\n```\n:::\n:::\n\n\n## Verify Prior\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# summarize the prior\nsmoker_sim |>\n  tabyl(pi) |>\n  adorn_totals(\"row\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    pi     n percent\n  0.25  3283  0.3283\n   0.5  3345  0.3345\n  0.75  3372  0.3372\n Total 10000  1.0000\n```\n:::\n:::\n\n\n## PMFs\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# plot y by pi\nggplot(smoker_sim, aes(x = y)) + \n  stat_count(aes(y = after_stat(prop))) + \n  facet_wrap(~ pi)\n```\n\n::: {.cell-output-display}\n![](03_beta_binomial_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n## Posterior Distribution\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# focus on simulations with y = 4\nfour_smokers <- smoker_sim %>% \n  filter(y == 4)\n\n# summarize the posterior approximation\nfour_smokers %>% \n  tabyl(pi) %>% \n  adorn_totals(\"row\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    pi    n   percent\n  0.25  408 0.3000000\n   0.5  813 0.5977941\n  0.75  139 0.1022059\n Total 1360 1.0000000\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# plot the posterior approximation\nggplot(four_smokers, aes(x = pi)) + \n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](03_beta_binomial_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n\n::::\n\n\n# Scenario 2: Continuous Prior\n\nInstead of fixating on particular guesses for $\\pi$, let us broaden the scope to allow the underlying probability to be any number between zero and one.\n\n$$\\pi \\in [0,1]$$\n\n::: {.callout-note collapse=\"true\"}\n## Continuous Probability Model\n\nLet $\\pi$ be a continuous random variable with **probability density function** $f(\\pi)$, then $f(\\pi)$ has the following properties.\n\n* $f(\\pi) \\geq 0$\n* $\\int_{\\pi} \\! f(\\pi) \\, d\\pi = 1$\n* $P(a \\leq \\pi \\leq b) = \\int_{a}^{b} \\! f(\\pi) \\, d\\pi$\n:::\n\n## Beta Distribution\n\n::: {.callout-note collapse=\"true\"}\n## Beta Distribution\n\nLet $\\pi \\in [0,1]$, then the variability in $\\pi$ may be modeled by a Beta distribution with shape hyperparameters $\\alpha > 0$ and $\\beta > 0$\n\n$$\\pi \\sim \\text{Beta}(\\alpha, \\beta)$$\nwith probability density function\n\n$$f(\\pi) = \\ds\\frac{\\Gamma(\\alpha + \\beta)}{\\Gamma(\\alpha)\\Gamma(\\beta)}\\pi^{\\alpha-1}(1-\\pi)^{\\beta-1}$$\n\nwhere the gamma function\n\n* $\\Gamma(z) = \\ds\\int_{0}^{\\infty} \\! x^{z-1}e^{-x} \\, dx$\n* $\\Gamma(z + 1) = z\\Gamma(z)$\n\n:::\n\n::: {.callout-tip collapse=\"true\"}\n## Corollary\n\nWhen $z$ is a positive integer, then\n$$\\Gamma(z) = (z-1)!$$\nThat is, the gamma function is a generalization of the factorial.\n:::\n\n::: {.callout-tip collapse=\"true\"}\n## Hyperparameters\n\nA **hyperparameter** is a parameter used in a prior model.\n:::\n\n::: {.callout-tip collapse=\"true\"}\n\n## Explore! \n\nMatt Bognar at the University of Iowa created this [great webapp](https://homepage.stat.uiowa.edu/~mbognar/applets/beta.html) to explore the beta distribution.\n\n:::\n\n::: {.callout-note collapse=\"true\"}\n## Uniform Distribution\n\nWhen it is equally plausible for $\\pi$ to take on any value between zero and one, we can model $\\pi$ by the standard uniform distribution\n\n$$\\pi \\sim \\text{Unif}(0,1)$$\n\nwith pdf $f(\\pi) = 1$ for $\\pi \\in [0,1]$.  The $\\text{Unif}(0,1)$ distribution is a special case of the beta distribution when $\\alpha = 1$ and $\\beta = 1$\n\n$$\\text{Unif}(0,1) = \\text{Beta}(1,1)$$\n:::\n\n\n## Sample Statistics\n\nFor a beta distribution, $\\pi \\sim \\text{Beta}(\\alpha, \\beta)$\n\n* expected value: $\\text{E}(\\pi) = \\ds\\frac{\\alpha}{\\alpha + \\beta}$\n* variance: $\\text{Var}(\\pi) = \\ds\\frac{\\alpha\\beta}{(\\alpha + \\beta)^{2}(\\alpha + \\beta + 1)}$\n\n## Tuning the Beta Prior\n\nHere, let us use that sample of observations where 4 out of the 9 customers where smokers.  We might then try to align this sample proportion $\\frac{4}{9}$ with the expected value\n\n$$\\ds\\frac{\\alpha}{\\alpha + \\beta} = \\ds\\frac{4}{9} \\quad\\rightarrow\\quad \\alpha = 4, \\quad \\beta = 5$$\n\nto create a beta model $\\pi \\sim \\text{Beta}(4, 5)$\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbayesrules::plot_beta(4,5)\n```\n\n::: {.cell-output-display}\n![](03_beta_binomial_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\nWe can compute the variance\n\n$$\\text{Var}(\\pi) = \\ds\\frac{\\alpha\\beta}{(\\alpha + \\beta)^{2}(\\alpha + \\beta + 1)} = \\ds\\frac{4 \\cdot 5}{(4 + 5)^{2}(4 + 5 + 1)} \\approx 0.0247$$\n\n\n## Binomial Data Model\n\nSuppose that we obtain a larger sample of observations with $n = 25$ customers. The number of smokers, denoted by random variable $Y$, may have a binomial model conditional on probability $\\pi$,\n\n$$Y|\\pi \\sim \\text{Bin}(25, \\pi)$$\n\nwith conditional pmf over $y \\in \\{0, 1, ..., 25\\}$,\n$$f(y|\\pi) = P(Y = y|\\pi) = \\binom{25}{y}\\pi^{y}(1-\\pi)^{25-y}$$\n\n## Likelihood\n\n:::: {.panel-tabset}\n\n## Function\n\nSuppose that in that sample of $n = 25$ customers, we observe that $y = 7$ of those customers were smokers.  Our likelihood function is then\n\n$$L(\\pi|y = 7) = \\binom{25}{7}\\pi^{7}(1-\\pi)^{18}$$\n\n## Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](03_beta_binomial_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n## Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\npi <- seq(0, 1, 0.01)\nL_pi_y <- dbinom(7, 25, pi)\n\ndf_for_graph <- data.frame(pi, L_pi_y)\n\ndf_for_graph |>\n  ggplot(aes(x = pi, y = L_pi_y)) +\n  geom_line() +\n  labs(title = \"Likelihood function\",\n       subtitle = \"y = 7, n = 25\",\n       caption = \"SML 320\")\n```\n:::\n\n\n::::\n\n\n## Beta-Binomial Model\n\n**Claim:** With probability $\\pi \\in [0,1]$ and random variable $Y$ representing the number of \"successes\" in $n$ trials, if the behavior is modeled with prior distribution and likelihood\n\n$$\\begin{array}{rcl}\n  \\pi & \\sim & \\text{Beta}(\\alpha, \\beta) \\\\\n  Y|\\pi & \\sim & \\text{Bin}(n,\\pi) \\\\\n\\end{array}$$\n\nthen the posterior distribution can be modeled with an updated beta distribution\n\n$$\\pi|(Y=y) \\sim \\text{Beta}(\\alpha + y, \\beta + n - y)$$\n\nwith sample statistics\n\n$$\\begin{array}{rcl}\n  \\text{E}(\\pi|Y=y) & = & \\ds\\frac{\\alpha + y}{\\alpha + \\beta + n} \\\\\n  \\text{Var}(\\pi|Y=y) & = & \\ds\\frac{(\\alpha  +y)(\\beta + n - y)}{(\\alpha + \\beta + n)^{2}(\\alpha + \\beta + n + 1)} \\\\\n\\end{array}$$\n\n::: {.callout-note collapse=\"true\"}\n## Partial Proof\n\nWith the conditional pmf\n\n$$f(\\pi) = \\ds\\frac{\\Gamma(\\alpha + \\beta)}{\\Gamma(\\alpha)\\Gamma(\\beta)}\\pi^{\\alpha-1}(1-\\pi)^{\\beta-1}$$\nand likelihood function\n\n$$L(\\pi|y) = \\binom{n}{y}\\pi^{y}(1-\\pi)^{n-y}$$\n\nit follows from Bayes' Rule that the posterior distribution\n\n$$\\begin{array}{rcl}\n  f(\\pi|y) & \\propto & f(\\pi)L(\\pi|y) \\\\\n  ~ & = & \\ds\\frac{\\Gamma(\\alpha + \\beta)}{\\Gamma(\\alpha)\\Gamma(\\beta)}\\pi^{\\alpha-1}(1-\\pi)^{\\beta-1} \\cdot \\binom{n}{y}\\pi^{y}(1-\\pi)^{n-y} \\\\\n  ~ & \\propto & \\pi^{(\\alpha + y)-1}(1-\\pi)^{(\\beta+n-y)-1} \\\\\n\\end{array}$$\n\nwhere that last expression is the unnormalized posterior pdf.  We observe that it has the same structure of the normalized $\\text{Beta}(\\alpha + y, \\beta + n - y)$ pdf\n\n$$f(\\pi|y) = \\ds\\frac{\\Gamma(\\alpha+\\beta+n)}{\\Gamma(\\alpha+y)\\Gamma(\\beta+n-y)} \\pi^{(\\alpha + y)-1}(1-\\pi)^{(\\beta+n-y)-1}$$\n\n:::\n\n\n## Beta Posterior\n\n:::: {.panel-tabset}\n\n## Updated Distribution\n\nBy the above theory, having started with a $\\text{Beta}{(4,5)}$ prior, and then observing $y = 7$ smokers among $n = 25$ customers\n\n$$\\alpha = 4, \\quad \\beta = 5, \\quad y = 7, \\quad n = 25$$\n\nour posterior distribution can be modeled with\n\n$$\\pi|(Y=y) \\sim \\text{Beta}(\\alpha + y, \\beta + n - y) = \\text{Beta}(11, 23)$$\n\n## Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbayesrules::plot_beta(11,23)\n```\n\n::: {.cell-output-display}\n![](03_beta_binomial_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\n## Both\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](03_beta_binomial_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\n\n::::\n\n\n## Putting it All Together\n\n:::: {.panel-tabset}\n\n## Helper Functions\n\nThe `bayesrules` package (from the textbook authors) provide additonal helper functions for this procedure of modeling with a beta-binomial model.\n\n```\nbayesrules::summarize_beta_binomial(alpha, beta, y, n)\n```\n\n```\nbayesrules::plot_beta_binomial(alpha, beta, y, n)\n```\n\n## Table\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize_beta_binomial(alpha = 4, beta = 5, y = 7, n = 25) |>\n  mutate_if(is.numeric, round, digits = 4)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      model alpha beta   mean   mode    var     sd\n1     prior     4    5 0.4444 0.4286 0.0247 0.1571\n2 posterior    11   23 0.3235 0.3125 0.0063 0.0791\n```\n:::\n:::\n\n\n## Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_beta_binomial(alpha = 4, beta = 5, y = 7, n = 25) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](03_beta_binomial_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n\n::::\n\n# Classroom Activity\n\n\n* In Canvas, find the `templates` folder\n    * SML 320 --> Files --> code templates\n* Download today's files\n    * template: `03_beta_binomial_template.qmd`\n    * data file: `tips.csv`\n* Place both files into the same folder on your computer\n    * advice: make a \"SML 320\" folder on your computer desktop\n* double-click the QMD file\n    * this opens `RStudio` and sets the directory location\n* try to run the code as-is\n    * use `install.packages()` when needed\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nR version 4.3.0 (2023-04-21 ucrt)\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\nRunning under: Windows 10 x64 (build 19045)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=English_United States.utf8 \n[2] LC_CTYPE=English_United States.utf8   \n[3] LC_MONETARY=English_United States.utf8\n[4] LC_NUMERIC=C                          \n[5] LC_TIME=English_United States.utf8    \n\ntime zone: America/New_York\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] lubridate_1.9.2  forcats_1.0.0    stringr_1.5.0    dplyr_1.1.3     \n [5] purrr_1.0.2      readr_2.1.4      tidyr_1.3.0      tibble_3.2.1    \n [9] ggplot2_3.4.3    tidyverse_2.0.0  skimr_2.1.5      patchwork_1.1.2 \n[13] janitor_2.2.0    gt_0.9.0         bayesrules_0.0.2\n\nloaded via a namespace (and not attached):\n  [1] gridExtra_2.3       inline_0.3.19       rlang_1.1.1        \n  [4] magrittr_2.0.3      snakecase_0.11.0    matrixStats_1.0.0  \n  [7] e1071_1.7-13        compiler_4.3.0      loo_2.6.0          \n [10] callr_3.7.3         vctrs_0.6.3         reshape2_1.4.4     \n [13] pkgconfig_2.0.3     crayon_1.5.2        fastmap_1.1.1      \n [16] ellipsis_0.3.2      labeling_0.4.3      utf8_1.2.3         \n [19] threejs_0.3.3       promises_1.2.1      rmarkdown_2.24     \n [22] tzdb_0.4.0          markdown_1.8        ps_1.7.5           \n [25] nloptr_2.0.3        bit_4.0.5           xfun_0.40          \n [28] jsonlite_1.8.7      later_1.3.1         parallel_4.3.0     \n [31] prettyunits_1.1.1   R6_2.5.1            dygraphs_1.1.1.6   \n [34] stringi_1.7.12      StanHeaders_2.26.26 boot_1.3-28.1      \n [37] Rcpp_1.0.11         rstan_2.21.8        knitr_1.43         \n [40] zoo_1.8-12          base64enc_0.1-3     bayesplot_1.10.0   \n [43] httpuv_1.6.11       Matrix_1.5-4        splines_4.3.0      \n [46] igraph_1.4.3        timechange_0.2.0    tidyselect_1.2.0   \n [49] rstudioapi_0.15.0   yaml_2.3.7          codetools_0.2-19   \n [52] miniUI_0.1.1.1      processx_3.8.1      pkgbuild_1.4.0     \n [55] lattice_0.21-8      plyr_1.8.8          withr_2.5.2        \n [58] shiny_1.7.5         groupdata2_2.0.2    evaluate_0.21      \n [61] survival_3.5-5      proxy_0.4-27        RcppParallel_5.1.7 \n [64] xts_0.13.1          xml2_1.3.5          pillar_1.9.0       \n [67] DT_0.28             stats4_4.3.0        shinyjs_2.1.0      \n [70] generics_0.1.3      vroom_1.6.3         hms_1.1.3          \n [73] rstantools_2.3.1    munsell_0.5.0       scales_1.2.1       \n [76] minqa_1.2.5         gtools_3.9.4        xtable_1.8-4       \n [79] class_7.3-21        glue_1.6.2          tools_4.3.0        \n [82] shinystan_2.6.0     lme4_1.1-33         colourpicker_1.2.0 \n [85] grid_4.3.0          crosstalk_1.2.0     colorspace_2.1-0   \n [88] nlme_3.1-162        repr_1.1.6          cli_3.6.1          \n [91] fansi_1.0.4         gtable_0.3.4        sass_0.4.7         \n [94] digest_0.6.33       farver_2.1.1        htmlwidgets_1.6.2  \n [97] htmltools_0.5.6     lifecycle_1.0.4     mime_0.12          \n[100] rstanarm_2.21.4     bit64_4.0.5         shinythemes_1.2.0  \n[103] MASS_7.3-58.4      \n```\n:::\n:::\n\n\nI doubt that any of my students are Frasier fans, but I made this for our class anyway\n\n![Frasier](frasier_posterior.png)\n\n\n\n\n\n\n\n\n\n\n\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\t\n:::\n\n::: {.column width=\"50%\"}\n\n:::\n\n::::\n\n:::: {.panel-tabset}\n\n\n\n::::",
    "supporting": [
      "03_beta_binomial_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}