{
  "hash": "a4254f052b14df93580b064b2d544159",
  "result": {
    "markdown": "---\ntitle: \"2: Bayes' Rule\"\nauthor: \"Derek Sollberger\"\ndate: \"2023-02-01\"\n# format: \n#   revealjs:\n#     scrollable: true\nformat: \n  html:\n    toc: true\n---\n\n\n\\newcommand{\\ds}{\\displaystyle}\n\n\n::: {.cell}\n\n:::\n\n\n## Bayes' Rule\n\nIn the previous section, we studied conditional probability\n$$P(B|A) = \\ds\\frac{P(A \\text{ and } B)}{P(A)}$$\nand we talked about how the inverse probabilities $P(A|B)$ and $P(B|A)$ are almost never equal.  In this section, we discuss how to properly think and calculate that inverse probability.\n\n:::{.callout-tip}\nAnother look at conditional probability is\n$$P(A \\text{ and } B) = P(B|A) \\cdot P(A)$$\nThis is read as \"The probability of the intersection $A$ and $B$ is the probability of event $B$ *conditioned* on event $A$.\"\n:::\n\n:::{.callout-tip}\nMoreover, if we consider how if event $B$ is dependent on event $A$, then sometimes $B$ happens when $A$ happens and sometimes when $A$ does not occur.  More succinctly, the *total probability* of event $B$ is\n$$P(B) = P(B|A) \\cdot P(A) + P(B|A^{c}) \\cdot P(A^{c})$$ \n:::\n\n:::{.callout-note}\nStaring with the conditional probability formula\n$$P(B|A) = \\ds\\frac{P(A \\text{ and } B)}{P(A)}$$\n*Bayes' Rule* combines the ideas of conditioned probability and total probability as\n$$P(A|B) = \\ds\\frac{P(A \\text{ and } B)}{P(B)} = \\ds\\frac{P(B|A) \\cdot P(A)}{P(B|A) \\cdot P(A) + P(B|A^{c}) \\cdot P(A^{c})}$$\n:::\n\n## A Deep Dive\n\n:::: {.panel-tabset}\n\n## Example\n\nAn executive has their blood tested for boneitis.  Let $B$ be the event that an executive has the disease, and let $T$ be the event that the test returns positive.  Laboratory trials yielded the following information:\n\n$$P(T|B) = 0.70 \\quad\\text{and}\\quad P(T|B^{c}) = 0.10$$\n\nAssume a prior probability of $P(B) = 0.0032$.  Compute $P(B|T)$\n    \n## Tree Diagram\n\n![tree diagram](boneitis1.png)\n\n## Numerator\n\n![tree diagram](boneitis2.png)\n\n## Denominator\n\n![tree diagram](boneitis3.png)\n\n## Bayes' Rule\n\n![](deepdive1.png)\n\n::::\n\n## More Practice\n\n:::: {.panel-tabset}\n\n## Example\n\nAn executive has their blood tested for boneitis.  Let $B$ be the event that an executive has the disease, and let $T$ be the event that the test returns positive.  Laboratory trials yielded the following information:\n\n$$P(T|B) = 0.70 \\quad\\text{and}\\quad P(T|B^{c}) = 0.10$$\n\nAssume a prior probability of $P(B) = 0.0032$.  Compute $P(B|T^{c})$\n    \n## Tree Diagram\n\n![tree diagram](boneitis1.png)\n\n## Numerator\n\n![tree diagram](boneitis4.png)\n\n## Denominator\n\n![tree diagram](boneitis5.png)\n\n## Bayes' Rule\n\n![](deepdive2.png)\n\n::::\n\n## Example: Spam Filtering\n\nIn 2002, Paul Graham used Bayes' Rule as part of his algorithms to greatly decrease false positive rates of unwanted e-mails (\"spam\").   Let $H^{c}$ be the event that an e-mail is \"spam\".  Let $W$ be the event that an e-mail contains a trigger word such as \"watches\".  Suppose that\n\n- the probability that an e-mail contains that word given that it is spam is 17\\%\n- the probability that an e-mail contains that word given that it is not spam is 9\\%\n- the probability that a randomly selected e-mail message is spam is 80\\%\n\nFind the probability that an e-mail message is spam, given that the trigger word appears.\n\n## Example: Quality Control\n\nA manufacturing process produces integrated circuit chips.  Over the long run the fraction of bad chips produced by the process is around 20\\%.  Thoroughly testing a chip to determine whether it is good or bad is rather expensive, so a cheap test is tried.  All good chips will pass the cheap test, but so will 10\\% of the bad chips.  Given that a chip passes the test, what is the probability that the chip was defective?\n\n\n\n## Example: DUI Checkpoint\n\nA breath analyzer, used by the police to test whether drivers exceed the legal limit set for the blood alcohol percentage while driving, is known to satisfy\n\n$$P(A|B) = P(A^{c}|B^{c}) = x$$\n\t\nwhere $A$ is the event \"breath analyzer indicates that legal limit is exceeded\" and $B$ \"driver's blood alcohol percentage exceeds legal limit.\"  On Saturday nights, about 4\\% of the drivers are known to exceed the limit.\n\n- Describe in words the meaning of $P(B|A)$\n- Determine $P(B|A)$ if $x = 0.90$\n- How big should $x$ be so that $P(B|A) \\geq 0.95$?\n\n\n## Example: Monty Hall Problem\n\n:::: {.columns}\n\n::: {.column width=\"33%\"}\n![](Monty_open_door.png)\t\n:::\n\n::: {.column width=\"67%\"}\nMonty Hall asks you to choose one of three doors. One of the doors hides a prize and the other two doors have no prize. You state out loud which door you pick, but you don’t open it right away.\n\n\"Monty opens one of the other two doors, and there is no prize behind it.\n    \\begin{center}\n        \\includegraphics[scale = 0.1]{images/Monty_open_door.jpg}\n    \\end{center}\n    \"At this moment, there are two closed doors, one of which you picked.  The prize is behind one of the closed doors, but you don’t know which one.  Monty asks you, 'Do you want to switch doors?' \"\n\n- switch doors\n- do not switch doors\n:::\n\n::::\n\n## Generalized Bayes' Rule\n\nIf we are conditioning $B$ on an event $A$, where the latter can be partitioned into several subsets,\n\n$$A = \\{ A_{1}, A_{2}, ..., A_{j} \\}$$\n\nthen the total probability is\n\n$$P(B) = P(B|A_{1}) \\cdot P(A_{1}) + P(B|A_{2}) \\cdot P(A_{2}) + ... + P(B|A_{n}) \\cdot P(A_{n})$$\n\nand Bayes Rule for computing the probability of $A_{i}$ given $B$ becomes\n\n$$P(A_{i}|B) = \\ds\\frac{ P(B|A_{i}) \\cdot P(A_{i}) }{ P(B|A_{1}) \\cdot P(A_{1}) + P(B|A_{2}) \\cdot P(A_{2}) + ... + P(B|A_{n}) \\cdot P(A_{n}) }$$\n\n## Bayesian Odds\n\n:::{.callout-note}\nThe **Bayesian odds** of event $A$ to event $B$ given that event $C$ has already taken place is\n$$\\ds\\frac{ P(A|C) }{ P(B|C) }$$ \n:::\n\n\n\n\n\n\n\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\t\n:::\n\n::: {.column width=\"50%\"}\n\n:::\n\n::::\n\n:::: {.panel-tabset}\n\n\n\n::::\n",
    "supporting": [
      "02_bayes_rule_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}